{% extends 'base.jinja' %}

{% block title %}
    JPM and Sons | Expert General Contractor Services on Long Island
{% endblock title %}

<link
    rel="preload"
    href="/static/images-webp/home/home_header.webp"
    as="image"
    type="image/webp"
/>
<link
    rel="preload"
    href="/static/images-webp/potential-bg.webp"
    as="image"
    type="image/webp"
/>

{% block content %}
    <section
        id="hero-section"
        class="container position-relative h-100 d-flex flex-column justify-content-center"
        aria-labelledby="hero-heading"
        style="min-height: calc(100dvh - 57px);"
    >
        <style>
            /* Mobile - Default styles */
            #hero-section {
                background: url('/static/images-webp/potential-bg.webp')
                    no-repeat center center;
                background-size: cover;
            }

            #hero-overlay {
                background-color: rgba(0, 0, 0, 0.7);
            }

            /* Desktop - Remove background and overlay */
            @media (min-width: 768px) {
                #hero-section {
                    background: none;
                }

                #hero-overlay {
                    background: none;
                }
            }
        </style>

        <!-- Overlay Background (Mobile only) -->
        <div id="hero-overlay" class="row align-items-center flex-grow-1">
            <!-- Left Column -->
            <div
                class="col-md-6 d-flex flex-column justify-content-center px-4 px-md-5 text-center text-md-start"
            >
                <!-- Mobile Version -->
                <div class="d-block d-md-none text-white">
                    <h1 class="my-2 fw-bold fs-1">
                        Get started on building the home of your dreams today
                    </h1>
                    <p class="lead">
                        Long Island's top general contractor, industry-leading
                        results for over <strong>35 years.</strong>
                    </p>
                </div>

                <!-- Desktop Version -->
                <div class="d-none d-md-block text-black">
                    <h1 id="hero-heading" class="header mb-4 fw-bold">
                        Get started on building the home of your dreams today
                    </h1>
                    <p class="lead">
                        Long Island's top general contractor, industry-leading
                        results for over <strong>35 years.</strong>
                    </p>
                </div>

                <!-- Call to Action Button -->
                <div class="mt-3">
                    <a
                        href="#services"
                        class="btn btn-primary btn-md text-white mx-auto mx-md-0"
                    >
                        Discover More
                    </a>
                </div>
            </div>

            <!-- Right Column with Image (hidden on mobile) -->
            <div
                class="col-md-6 text-center d-none d-md-flex justify-content-center align-items-center"
            >
                <img
                    src="/static/images-webp/home/home_header.webp"
                    alt="A beautiful home showcasing contractor expertise"
                    class="img-fluid rounded"
                    width="572"
                    height="572"
                    style="max-width: 100%; height: auto; aspect-ratio: 1 / 1;"
                />
            </div>
        </div>

        <!-- Bottom Links for Services (hidden on mobile) -->
        <div class="container mt-lg-4 py-2 d-none d-md-block">
            <div class="row justify-content-center">
                <div class="col-12 text-center">
                    <div class="row row-cols-2 row-cols-md-3 row-cols-lg-6 g-3">
                        <!-- Dynamic Service Links -->
                        {% for key, service in services.items() %}
                            <div class="col my-2">
                                <a
                                    href="{{ url_for('public.' ~ key) }}"
                                    class="d-flex flex-column justify-content-center align-items-center service-link text-decoration-none text-dark"
                                >
                                    <div class="icon-container p-3">
                                        <img
                                            src="{{ url_for('static', filename='images-webp/icons/' ~ service['name'].replace(' ', '_') ~ '.webp') }}"
                                            alt="{{ service['name'].replace('_', ' ').title() }} Icon"
                                            class="service-icon"
                                        />
                                        <small class="d-block mt-2"
                                            >{{ service['name'].replace('_', ' ').title() }}</small
                                        >
                                    </div>
                                </a>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="services" class="py-5 py-lg-5">
        <div class="container">
            <!-- Section Heading -->
            <header
                class="text-center mb-5 mb-lg-4 d-flex flex-column justify-content-center align-items-center"
            >
                <h2 class="fw-bold mb-1 ">Our Services</h2>
                <span class="text-muted text-start">
                    Explore the range of expert services we offer to transform
                    your space.
                </span>
            </header>

            <!-- Services Grid -->
            <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
                {% for service_key, service in services.items() %}
                    <article class="col-11 d-flex mx-auto">
                        <div
                            class="service-card card h-100 w-lg-100 position-relative"
                            style="background-color: rgb(212, 212, 212);"
                        >
                            <!-- Image Link -->
                            <a
                                href="{{ url_for('public.' ~ service_key) }}"
                                class="text-decoration-none"
                                aria-label="Learn more about {{ service_key.replace('_', ' ').title() }}"
                            >
                                <img
                                    src="{{ url_for('static', filename='images-webp/home/service-cards-resized/home_' ~ service_key ~ '.webp') }}"
                                    class="card-img-top img-fluid"
                                    alt="{{ service_key.replace('_', ' ').title() }} Service"
                                />
                            </a>
                            <!-- Card Body -->
                            <div class="card-body p-4">
                                <!-- Header Link -->
                                <a
                                    href="{{ url_for('public.' ~ service_key) }}"
                                    class="text-decoration-none service-header-link"
                                    aria-label="Learn more about {{ service_key.replace('_', ' ').title() }}"
                                >
                                    <h3
                                        class="fw-bold text-start service-header "
                                        style="color:#193e6d"
                                    >
                                        {{ service_key.replace('_', ' ').title() }}
                                    </h3>
                                </a>
                                <p class="card-text text-black fw-normal">
                                    {{ service.less_information }}
                                </p>
                            </div>
                        </div>
                    </article>
                {% endfor %}
            </div>
        </div>
    </section>

    <div
        class="my-5"
        style="background: url('/static/images-webp/home/home-banner-resized/home.webp') no-repeat center center; background-size: cover;"
    >
        <div
            class="container-fluid d-flex flex-column align-items-center justify-content-center text-center py-5"
            style="background-color: rgba(0, 0, 0, 0.7);"
        >
            <div class="col-md-12 text-white">
                <h3 class="fw-bold text-white">We’re Here to Make It Easy</h3>
                <p class="text-white">
                    Whether you’re starting a new project or just have a
                    question, we are here to help.
                </p>
                <a
                    href="#ContactForm"
                    class="btn btn-md btn-primary text-white mt-2"
                    >Reach Out to Us</a
                >
            </div>
        </div>
    </div>

    <section
        id="gallery"
        class="container my-3
     py-5"
    >
        <!-- Gallery Heading -->
        <header class="text-center mb-2 mb-lg-5">
            <h2 class="fw-bold">Our Gallery</h2>
            <p class="text-muted text-start text-lg-center">
                Explore our recent projects, from paver patios to stunning
                masonry and more. See how we’ve transformed outdoor and indoor
                spaces for our clients.
            </p>
        </header>

        <!-- Gallery Grid -->
        <div class="row g-0 g-lg-4">
            <figure class="col-md-4 gallery-item">
                <img
                    src="/static/images-webp/home/front-page-gallery-resized/backyard-pavers-and-siding.webp"
                    alt="Beautiful backyard with pavers and siding"
                    class="img-fluid rounded shadow-sm"
                />
                <figcaption class="text-center mt-2">
                    Backyard Pavers & Siding
                </figcaption>
            </figure>
            <figure class="col-md-4 gallery-item">
                <img
                    src="/static/images-webp/home/front-page-gallery-resized/beautiful-modern-bathroom.webp"
                    alt="Modern bathroom renovation with stylish fixtures"
                    class="img-fluid rounded shadow-sm"
                />
                <figcaption class="text-center mt-2">
                    Modern Bathroom Renovation
                </figcaption>
            </figure>
            <figure class="col-md-4 gallery-item">
                <img
                    src="/static/images-webp/home/front-page-gallery-resized/beautiful-paver-backyard.webp"
                    alt="Elegant backyard with sealed pavers"
                    class="img-fluid rounded shadow-sm"
                />
                <figcaption class="text-center mt-2">
                    Sealed Backyard Pavers
                </figcaption>
            </figure>
            <figure class="col-md-4 gallery-item">
                <img
                    src="/static/images-webp/home/front-page-gallery-resized/clean-pavers-by-pool.webp"
                    alt="Clean and polished pavers around a swimming pool"
                    class="img-fluid rounded shadow-sm"
                />
                <figcaption class="text-center mt-2">
                    Poolside Pavers
                </figcaption>
            </figure>
            <figure class="col-md-4 gallery-item">
                <img
                    src="/static/images-webp/home/front-page-gallery-resized/countertop-modern-design.webp"
                    alt="Modern countertop design in a kitchen"
                    class="img-fluid rounded shadow-sm"
                />
                <figcaption class="text-center mt-2">
                    Modern Countertop Design
                </figcaption>
            </figure>
            <figure class="col-md-4 gallery-item">
                <img
                    src="/static/images-webp/home/front-page-gallery-resized/kitchen-floors-and-granite.webp"
                    alt="Elegant kitchen floors with granite finishes"
                    class="img-fluid rounded shadow-sm"
                />
                <figcaption class="text-center mt-2">Kitchen Floors</figcaption>
            </figure>
            <figure class="col-md-4 gallery-item">
                <img
                    src="/static/images-webp/home/front-page-gallery-resized/beautiful-home-and-yard.webp"
                    alt="Beautiful home showcasing modern design"
                    class="img-fluid rounded shadow-sm"
                />
                <figcaption class="text-center mt-2">
                    Modern Home Design
                </figcaption>
            </figure>
            <figure class="col-md-4 gallery-item">
                <img
                    src="/static/images-webp/home/front-page-gallery-resized/backyard-asthetic-pavers.webp"
                    alt="Backyard with aesthetic pavers installation"
                    class="img-fluid rounded shadow-sm"
                />
                <figcaption class="text-center mt-2">
                    Aesthetic Backyard Pavers
                </figcaption>
            </figure>
            <figure class="col-md-4 gallery-item">
                <img
                    src="/static/images-webp/home/front-page-gallery-resized/pavers-walkway-steps.webp"
                    alt="Walkway and steps with pavers"
                    class="img-fluid rounded shadow-sm"
                />
                <figcaption class="text-center mt-2">
                    Paver Walkway & Steps
                </figcaption>
            </figure>
        </div>
    </section>

    <section
        id="testimonials"
        class="container-fluid py-5 border-shadow-lg"
        style="background-color: rgb(210, 210, 210);"
    >
        <div class="container">
            <!-- Section Heading -->
            <header class="text-center mb-4">
                <h2 class="fw-bold">What Our Clients Say</h2>
                <p class="text-muted">
                    Hear from satisfied customers who trusted us with their
                    projects.
                </p>
            </header>

            <!-- Testimonials Grid -->
            <div class="row g-4">
                <!-- Testimonial Cards -->
                <article class="col-lg-4 col-md-6 d-flex align-items-stretch">
                    <div
                        class="card shadow-sm border-0 w-100 h-100 text-center p-4"
                    >
                        <img
                            src="/static/images-webp/icons/google-review.webp"
                            alt="Photo of Marty G."
                            class="img-fluid rounded-circle mx-auto mb-3"
                            style="width: 60px; height: 60px; object-fit: cover;"
                        />
                        <h3 class="fw-bold mb-2">Marty G.</h3>
                        <p class="text-muted small mb-2">
                            From Google Reviews • 6 months ago • 13 reviews
                        </p>
                        <blockquote class="text-muted text-start small mb-3">
                            I cannot say enough about Jimmy, his sons, and his
                            team. I had a contractor disappear in the middle of
                            the job. Jimmy jumped in and finished the job within
                            days. Look no farther than JPM for any of your
                            masonry needs. You will not be disappointed. They
                            are a hardworking, family-owned business.
                        </blockquote>
                        <div class="text-warning">
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                        </div>
                        <span class="visually-hidden"
                            >Rating: 5 out of 5 stars</span
                        >
                    </div>
                </article>

                <article class="col-lg-4 col-md-6 d-flex align-items-stretch">
                    <div
                        class="card shadow-sm border-0 w-100 h-100 text-center p-4"
                    >
                        <img
                            src="/static/images-webp/icons/avatar.webp"
                            alt="Placeholder avatar for James C."
                            class="img-fluid rounded-circle mx-auto mb-3"
                            style="width: 60px; height: 60px; object-fit: cover;"
                        />
                        <h3 class="fw-bold mb-2">James C.</h3>
                        <p class="text-muted small mb-2">
                            From Google Reviews • 6 months ago • 10 reviews
                        </p>
                        <blockquote class="text-muted text-start small mb-3">
                            Jim and his team did a great job on my sidewalk that
                            needed repair due to root damage from a tree that
                            was removed. They were on time, worked quickly, and
                            did a very neat job. You would never know they were
                            here other than noticing a new sidewalk. Very
                            friendly crew that works well together. I highly
                            recommend them for any project for your home.
                        </blockquote>
                        <div class="text-warning">
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                        </div>
                        <span class="visually-hidden"
                            >Rating: 5 out of 5 stars</span
                        >
                    </div>
                </article>

                <article class="col-lg-4 col-md-6 d-flex align-items-stretch">
                    <div
                        class="card shadow-sm border-0 w-100 h-100 text-center p-4"
                    >
                        <img
                            src="/static/images-webp/icons/avatar-female.webp"
                            alt="Placeholder avatar for Deanna."
                            class="img-fluid rounded-circle mx-auto mb-3"
                            style="width: 60px; height: 60px; object-fit: cover;"
                        />
                        <h3 class="fw-bold mb-2">Deanna</h3>
                        <p class="text-muted small mb-2">
                            From Google Reviews • A year ago • 5 reviews
                        </p>
                        <blockquote class="text-muted text-start small mb-3">
                            I cannot recommend JPM & Sons enough! They are truly
                            incredible, and I am so pleased with how everything
                            came out. Our driveway and walkways look brand new!
                            They are very professional, and their work certainly
                            speaks for itself. Our neighbors even came up to us
                            asking for their information because they liked what
                            they saw. Great job!
                        </blockquote>
                        <div class="text-warning">
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                        </div>
                        <span class="visually-hidden"
                            >Rating: 5 out of 5 stars</span
                        >
                    </div>
                </article>
            </div>

            <!-- Divider -->
            <hr class="my-5" />

            <!-- Google Reviews Icon Section -->
            <div class="text-center mt-2">
                <img
                    src="/static/images-webp/icons/Google_Review_logo.webp"
                    alt="Google Reviews Badge"
                    class="img-fluid"
                    style="max-width: 200px;"
                />
            </div>
        </div>
    </section>

    <section class="py-5 my-5 my-lg-5">
        <!-- Flash Messages -->
        {% from "macros.jinja" import render_flashes %}
        {{ render_flashes() }}

        <!-- Form Container -->
        <div class="container p-4 p-lg-5 col-11 " id="ContactForm">
            <!-- Section Header -->
            <header class="text-start mb-4">
                <h3 class="fw-bold">
                    Ready when you are, let’s bring your ideas to life with
                    ease.
                </h3>
                <small class="text-muted">
                    Rest assured, we respect your privacy—no spam or junk
                    emails, just timely updates and professional communication.
                </small>
            </header>

            <!-- Form Section -->
            <form
                id="#form"
                action="/"
                method="post"
                aria-labelledby="ContactForm-heading"
                class="row g-0 g-lg-3 align-items-center justify-content-start"
            >
                {{ form.hidden_tag() }}

                <!-- Name Field -->
                <div class="col-12 col-md-10 col-lg-3 mb-2">
                    <label for="name" class="form-label mb-0"
                        >{{ form.name.label }}</label
                    >
                    {{ form.name(class_="form-control ", id="name") }}
                </div>

                <!-- Phone Field -->
                <div class="col-12 col-md-10 col-lg-3 mb-2">
                    <label for="phone" class="form-label mb-0"
                        >{{ form.phone.label }}</label
                    >
                    {{ form.phone(class_="form-control", id="phone") }}
                </div>

                <!-- Email Field -->
                <div class="col-12 col-sm-11 col-md-10 col-lg-3 mb-2">
                    <label for="email" class="form-label mb-0"
                        >{{ form.email.label }}</label
                    >
                    {{ form.email(class_="form-control", id="email") }}
                </div>

                <!-- Service Type Field -->
                <div class="col-12 col-md-10 col-lg-3 mb-2">
                    <label for="service_type" class="form-label mb-0"
                        >{{ form.service_type.label }}</label
                    >
                    {{ form.service_type(class_="form-select form-control", id="service_type") }}
                </div>

                <!-- Submit Button -->
                <div class="col-12 text-center mt-4">
                    <button
                        type="submit"
                        class="btn btn-md btn-primary text-white g-recaptcha"
                        aria-label="Schedule your free quote today"
                        data-sitekey="6LfOt8MqAAAAAB9DF-RVFtjT6xjZNalwfenaUHbQ"
                        data-callback="onSubmit"
                        data-action="submit"
                    >
                        Get started today
                    </button>
                </div>
            </form>
        </div>
    </section>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="{{url_for('static', filename='app.js')}}"></script>
    <script src="{{url_for('static', filename='gallery.js')}}"></script>
{% endblock content %}
